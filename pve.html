<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1v1 PvP Game - Main Menu</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="game-header">
            <h1>1v1 PvP Turn-Based Game</h1>
        </div>
        
        <div class="menu-container">
            <a href="game.html" class="menu-button play-button">Play PvP</a>
            <a href="index.html" class="menu-button">Back to Main Menu</a>
        </div>
        
        <div class="game-info">
            <h2>Game Modes</h2>
            <p>Choose a game mode to play:</p>
            <ul>
                <li><strong>PvP:</strong> Challenge other players in real-time battles</li>
                <li><strong>PvE:</strong> Coming soon - Practice against AI opponents</li>
            </ul>
        </div>
    </div>
    
    <script src="auth_client.js"></script>
    <script>
        // Check if user is logged in
        document.addEventListener('DOMContentLoaded', function() {
            if (!requireLogin()) {
                window.location.href = 'login.html';
                return;
            }
            
            const userData = getCurrentUser();
            
            // Welcome message
            if (userData) {
                const welcomeMsg = document.createElement('div');
                welcomeMsg.className = 'welcome-message';
                welcomeMsg.textContent = `Welcome back, ${userData.username}!`;
                document.querySelector('.game-header').appendChild(welcomeMsg);
                
                // Add logout button
                const menuContainer = document.querySelector('.menu-container');
                const logoutButton = document.createElement('a');
                logoutButton.href = '#';
                logoutButton.className = 'menu-button logout-button';
                logoutButton.textContent = 'Logout';
                logoutButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    logout();
                });
                menuContainer.appendChild(logoutButton);
            }
        });
    </script>
</body>
</html>
